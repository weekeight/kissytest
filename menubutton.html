<!doctype html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Demo - 简单菜单按钮</title>
    <link href="http://g.alicdn.com/kissy/k/1.4.7/css/dpl/base.css" rel="stylesheet"/>

    <link href="http://kissy.taobao.net/1.4/source/raw/demo/button/assets/button/assets/custombutton.css" rel="stylesheet"/>
    <link href="assets/menubutton.css" rel="stylesheet"/>
    <link href="http://kissy.taobao.net/1.4/source/raw/demo//menu/assets/menu.css" rel="stylesheet"/>
    <link href="http://kissy.taobao.net/1.4/source/raw/demo/menu/assets/menuitem.css" rel="stylesheet">
    <link rel="stylesheet" href="http://kissy.taobao.net/1.4/source/raw/demo/menubutton/assets/menubutton.css">
    <script src="http://g.alicdn.com/kissy/k/1.4.9/seed.js" data-config="{combine:true}"></script>
</head>
<body>
<div class="ks-menu-button" id="exist" tabindex="0">
    <div class="ks-menu-button-content">我的淘宝</div>
    <div class="ks-menu-button-dropdown ks-button-dropdown">
        <div class="ks-menu-button-dropdown-inner ks-button-dropdown-inner">
        </div>
    </div>
    <div class="ks-menu ks-popupmenu">
        <div class="ks-popupmenu-content">
            <div class="ks-menuitem ks-menuitem-checkable">已买到的宝贝</div>
            <div class="ks-menuitem ks-menuitem-checkable">已卖出的宝贝</div>
        </div>
    </div>
</div>

<script>
    KISSY.use("menubutton,menu", function(S, MenuButton, Menu) {
    // 首先按照创建菜单的方式创建一个弹出菜单
    var menu = new Menu.PopupMenu({

        children:[
            // 设置菜单项并且设置可支持多选
            new Menu.Item({content:"已买到的宝贝", checkable: true}),
            new Menu.Item({content:"已卖出的宝贝", checkable: true})]
    });

    // 创建一个菜单按钮, 并关联 menu 为刚才创建的弹出菜单
    var button = new MenuButton({
        // collapsed : true,
        content: "我的淘宝",
        matchElWidth:false,
        menu: menu
    });

    button.render();
    menu.on('click', function(e) {
        var m = e.target;
        if (m.get("checked")) {
            alert('选中:'+m.get('content'));
        } else {
            alert('未选中:'+m.get('content'));
        }
    });

    // 从已有HTML中生成菜单按钮
    window.srcNode=new MenuButton({
        srcNode:"#exist",
        matchElWidth:false
    }).render();
});

</script>
</body>
</html>